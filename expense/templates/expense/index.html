{% extends 'expense/base.html' %}

{% load static %}
{% block extrastyles %}
    <link rel="stylesheet" href="{% static '/assets/plugins/morris/morris.css' %}">
{% endblock %}

{% block content %}

                    <div class="page-content-wrapper">

                        <div class="container-fluid">

                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="page-title-box">
                                        <h4 class="page-title">Dashboard</h4>
                                    </div>
                                </div>
                            </div>
                            <!-- end page title end breadcrumb -->

                            <div class="row">
                                <div class="col-md-12 col-xl-3">
                                    <div class="card mini-stat">
                                        <div class="mini-stat-icon text-right">
                                            <i class="mdi mdi-cash-usd"></i>
                                        </div>
                                        <div class="p-4">
                                            <h6 class="text-uppercase mb-3">Budget</h6>
                                            <h4 class="mb-0" id="budget">{{ budget | floatformat  }}<small class="ml-2 text-primary">PKR</small></h4>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 col-xl-3">
                                    <div class="card mini-stat">
                                        <div class="mini-stat-icon text-right">
                                            <i class="mdi mdi-chart-line"></i>
                                        </div>
                                        <div class="p-4">
                                            <h6 class="text-uppercase mb-3">Consumption</h6>
                                            <h4 class="mb-0" id="consumption">{{ consumption | floatformat }}<small class="ml-2"><i class="mdi mdi-percent text-primary"></i></small></h4>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 col-xl-3">
                                    <div class="card mini-stat">
                                        <div class="mini-stat-icon text-right">
                                            <i class="mdi mdi-cash"></i>
                                        </div>
                                        <div class="p-4">
                                            <h6 class="text-uppercase mb-3">Expense This Month</h6>
                                            <h4 class="mb-0" id="expense-this-month">{{ expense_this_month | floatformat }}<small class="ml-2 text-primary">PKR</small></h4>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 col-xl-3">
                                    <div class="card mini-stat">
                                        <div class="mini-stat-icon text-right">
                                            <i class="mdi mdi-cash-multiple"></i>
                                        </div>
                                        <div class="p-4">
                                            <h6 class="text-uppercase mb-3">Overall Expense</h6>
                                            <h4 class="mb-0" id="total-expense">{{ total_expense | floatformat }}<small class="ml-2 text-primary">PKR</small></h4>
                                        </div>
                                    </div>

                                </div>                                            
                            </div><!-- end row -->

                            <div class="row">
                                <div class="col-md-12 col-xl-8">
                                    <div class="card">
                                        <div class="card-body">   
                                            <h4 class="mt-0 mb-3 header-title">Daily Expense</h4>
                                            <div id="morris-area-chart" style="height: 340px;"></div>
                                        </div>
                                    </div>
                                </div> 
                                <div class="col-md-12 col-xl-4">
                                    <div class="card">
                                        <div class="card-body">
                                            <h4 class="mt-0 mb-3 header-title">Categories</h4>
                                            <div id="morris-donut-example" style="height: 340px;"></div>
                                        </div>
                                    </div>
                                </div>
                             
                            </div><!-- end row-->

                            <div class="row">
                                <div class="col-md-12 col-xl-4">
                                    <div class="card">
                                        <div class="card-body">
                                            
                                            <a href="" class="btn btn-light btn-sm float-right">More Info</a>
                                            <h6 class="">Total Expense over time</h6>
                                                                                            
                                            <div id="multi-line-chart" style="height: 350px;"></div>
                                            
                                            <ul class="list-unstyled list-inline text-center mb-0 mt-3">
                                                <li class="list-inline-item">
                                                    <p class="mb-0"><i class="mdi mdi-checkbox-blank-circle mr-2 text-success"></i>Profit</p> 
                                                </li>
                                                <li class="list-inline-item">
                                                    <p class="mb-0"><i class="mdi mdi-checkbox-blank-circle mr-2 text-danger"></i>Lost</p>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-12 col-xl-8">
                                    <div class="card m-b-30">
                                        <div class="card-body">

                                            <h4 class="mt-0 header-title">Spending</h4>
                                            <p class="text-muted font-14 d-inline-block text-truncate w-100">
                                                Expanses by different categories
                                            </p>
                                            <div id="morris-bar-example" style="height: 340px;"></div>
                                        </div>
                                    </div>
                                </div>

                            </div><!-- end row -->

                        </div><!-- container -->

                    </div> <!-- Page content Wrapper -->

{% endblock %}

{% block extrascripts %}
    <script src="{% static '/assets/plugins/morris/morris.min.js' %}"></script>
    <script src="{% static '/assets/plugins/raphael/raphael-min.js' %}"></script>
    <script src="{% static '/assets/pages/dashboard.js' %}"></script>
{% endblock %}
